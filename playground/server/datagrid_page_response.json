{
    "page": {
        "template": "<Header :title=$page.title :description=$page.description :buttons=$page.buttons /><Datagrid :bulkActions=$page.products_table.bulkActions :columns=$page.products_table.columns :items=$page.products_table.items :filters=$page.products_table.filters :pagination=$page.products_table.pagination :title=$page.products_table.title :url=$page.products_table.url />",
        "template_cache": true,
        "layout": "default",
        "data": {
            "title": "Products",
            "description": "This is the list of products",
            "buttons": [
                {
                    "label": "Add Product",
                    "icon": "pi pi-plus",
                    "command": ["goto", "/products/new"]
                },
                {
                    "label": "Add category",
                    "icon": "pi pi-tag",
                    "command": ["open_modal", "product/new_category_modal"]
                },
                {
                    "label": "Help",
                    "icon": "pi pi-info",
                    "command": ["open_drawer", "help", {"page": "products"}]
                }
            ],
            "products_table": {
                "endpoint": "products/data",
                "bulkActions": [
                    {
                        "label": "Delete",
                        "icon": "pi pi-trash",
                        "command": [
                            "fetch",
                            "products/bulk_delete",
                            "DELETE"
                        ]
                    },
                    {
                        "label": "Bulk edits",
                        "icon": "pi pi-upload",
                        "command": [
                            "open_modal",
                            "products/bulk_edit_modal"
                        ]
                    }
                ],
                "rowActions": [
                    {
                        "key": "delete",
                        "label": "Delete",
                        "icon": "pi pi-trash",
                        "command": [
                            "fetch",
                            "products/delete",
                            "DELETE"
                        ]
                    },
                    {
                        "key": "edit",
                        "label": "Edit",
                        "icon": "pi pi-pencil",
                        "command": [
                            "open_modal",
                            "products/edit_modal"
                        ]
                    },
                    {
                        "key": "unpublish",
                        "label": "unpublish",
                        "icon": "pi pi-pencil",
                        "command": [
                            "open_modal",
                            "products/edit_modal"
                        ]
                    }
                ],
                "columns": [
                    {
                        "field": "name",
                        "header": "Name",
                        "sortable": true
                    },
                    {
                        "field": "category",
                        "header": "Category",
                        "sortable": true
                    },
                    {
                        "field": "price",
                        "header": "Price",
                        "sortable": true
                    },
                    {
                        "field": "is_published",
                        "header": "Published",
                        "sortable": true,
                        "component": {
                            "name": "toggle-button",
                            "props": {
                                "endpoint": "products/toggle_publish"
                            }
                        }
                    },
                    {
                        "field": "quantity",
                        "header": "Quantity",
                        "sortable": true
                    }
                ],
                "id_attribute": "id",
                "items": [
                    {
                        "id": 1,
                        "name": "Apple",
                        "category": "Fruits",
                        "price": 1.5,
                        "quantity": 10,
                        "_rowVariant": "success",
                        "_actions": ["delete", "edit"]
                    },
                    {
                        "id": 2,
                        "name": "Banana",
                        "category": "Fruits",
                        "price": 0.5,
                        "quantity": 20,
                        "_actions": ["edit"]
                    },
                    {
                        "id": 3,
                        "name": "Orange",
                        "category": "Fruits",
                        "price": 1.0,
                        "quantity": 15,
                        "_actions": ["delete", "edit"]
                    },
                    {
                        "id": 4,
                        "name": "Carrot",
                        "category": "Vegetables",
                        "price": 0.75,
                        "quantity": 30
                    },
                    {
                        "id": 5,
                        "name": "Potato",
                        "category": "Vegetables",
                        "price": 0.5,
                        "quantity": 25
                    }
                ],
                "pagination": {
                    "total": 5,
                    "per_page": 10,
                    "current_page": 1
                },
                "per_page_options": [10, 25, 50],
                "filters": [
                    {
                        "field": "name",
                        "label": "Name",
                        "type": "text"
                    },
                    {
                        "field": "category",
                        "label": "Category",
                        "type": "multiselect",
                        "options": [
                            {
                                "label": "Fruits",
                                "value": "Fruits"
                            },
                            {
                                "label": "Vegetables",
                                "value": "Vegetables"
                            }
                        ]
                    }
                ]
            }
        }
    },
    "commands": [
        [
            "toast",
            {
                "severity": "success",
                "summary": "Success",
                "detail": "Product added successfully",
                "dismissable": true,
                "life": 3000
            }
        ],
        [
            "gtag.push",
            {
                "event": "add_to_cart",
                "items": [
                    {
                        "id": 1,
                        "name": "Apple",
                        "price": 1.5,
                        "quantity": 1
                    }
                ]
            }
        ]
    ]
}